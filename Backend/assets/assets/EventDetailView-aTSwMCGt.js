import{_ as w,r as m,z as V,h as i,c,F as R,f as x,A as E,B as k,k as h,u as F,o as C,a as g,b as v,E as H,g as p,H as S,j as B,C as D,y as M}from"./index-4-hfgK7h.js";const N={props:{modelValue:{type:Number,default:0},maxStars:{type:Number,default:5}},setup(b,{emit:d}){const s=m(b.modelValue),e=m(!1),o=m(0),u=n=>{s.value=n,d("update:modelValue",n)},t=n=>{e.value=!0,o.value=n},a=()=>{e.value=!1,o.value=0};return V(()=>b.modelValue,n=>{s.value=n}),{rating:s,isHovered:e,hoverValue:o,hoverRating:t,resetHover:a,setRating:u}}},I={class:"star-rating"},K=["onClick","onMouseover","aria-label","onKeydown"];function A(b,d,s,e,o,u){return i(),c("div",I,[(i(!0),c(R,null,x(s.maxStars,t=>(i(),c("div",{key:t,onClick:a=>e.setRating(t),onMouseover:a=>e.hoverRating(t),onMouseleave:d[0]||(d[0]=(...a)=>e.resetHover&&e.resetHover(...a)),class:E(["star",t<=(e.isHovered?e.hoverValue:e.rating)?"filled":""]),"aria-label":`Bewerte ${t} Sterne`,role:"button",tabindex:"0",onKeydown:[k(h(a=>e.setRating(t),["prevent"]),["space"]),k(h(a=>e.setRating(t),["prevent"]),["enter"])]}," ★ ",42,K))),128))])}const L=w(N,[["render",A],["__scopeId","data-v-86005b8d"]]),T={class:"event-detail-view"},$={class:"event-container"},z={key:0},U={key:1},j={class:"stars-container"},q={__name:"EventDetailView",setup(b){const d=D(),s=M(),e=m(null),o=F(),u=m(0),t=async()=>{try{const r=await p.get(`/event/${d.params.id}`);e.value=r.data}catch(r){console.error("Fehler beim Laden des Events:",r)}},a=async()=>{var l,_,f;const r={emailAddress:(l=o.user)==null?void 0:l.emailAddress,bewertung:u.value,bewertungEventOf:(_=e.value)==null?void 0:_.id,userId:(f=o.user)==null?void 0:f.id};console.log("Gesendete Daten:",r);try{await p.post("/feedback",r),console.log("Feedback erfolgreich gesendet")}catch(y){console.error("Fehler beim Senden des Feedbacks:",y)}},n=()=>{s.push({name:"ticketkauf",query:{eventId:e.value.id,eventName:e.value.name,eventPrice:e.value.preis}})};return C(t),(r,l)=>(i(),c("div",T,[g(S,{title:"Event-Details"}),v("main",$,[e.value?(i(),c("div",U,[g(H,{id:e.value.id,name:e.value.name,bild:e.value.bild,datum:e.value.datum,ort:e.value.ort,bewertung:e.value.bewertung},null,8,["id","name","bild","datum","ort","bewertung"]),v("button",{class:"ticket-button",onClick:n}," Ticket kaufen "),l[1]||(l[1]=v("p",null,"Bewertung abgeben:",-1)),v("div",j,[g(L,{modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=_=>u.value=_),"max-stars":5},null,8,["modelValue"])]),v("button",{id:"Feedback",class:"send-feedback-button",onClick:a}," Feedback senden ")])):(i(),c("div",z,"Lädt..."))]),g(B)]))}},O=w(q,[["__scopeId","data-v-4e2fc53c"]]);export{O as default};
