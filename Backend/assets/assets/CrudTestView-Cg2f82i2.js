import{_ as T,r as m,o as F,c as p,a as y,b as l,k as g,w as o,v as u,d as V,e as w,l as C,F as U,f as h,g as s,h as v,t as i,j as c}from"./index-mWr20AWK.js";import{H as S}from"./Header-t8X5EBV-.js";const B={class:"crud-test-view"},D={key:0},N=["onClick"],L=["onClick"],$={__name:"CrudTestView",setup(q){const b=m([]),a=m({id:"",name:"",bild:"",datum:"",typ:"",preis:"",bewertung:1,ort:""}),n=m(null),d=async()=>{try{const r=await s.get("http://localhost:1337/event");b.value=r.data}catch(r){console.error("Fehler beim Laden der Events:",r)}},k=async()=>{try{await s.post("http://localhost:1337/event",a.value),alert("Event erfolgreich erstellt"),d(),a.value={id:"",name:"",availableTickets:"",bild:"",datum:"",typ:"",preis:"",bewertung:1,ort:""}}catch(r){console.error("Fehler beim Erstellen des Events:",r)}},x=async()=>{if(n.value)try{await s.put(`http://localhost:1337/event/${String(n.value.id)}`,n.value),alert("Event erfolgreich aktualisiert"),d(),n.value=null}catch(r){console.error("Fehler beim Aktualisieren des Events:",r)}},E=async r=>{try{await s.delete(`http://localhost:1337/event/${r}`),alert("Event erfolgreich gelöscht"),d()}catch(e){console.error("Fehler beim Löschen des Events:",e)}};return F(d),(r,e)=>(v(),p(U,null,[y(S,{title:"CRUD"}),e[25]||(e[25]=l("h1",null,"CRUD Test View",-1)),l("div",B,[l("section",null,[e[20]||(e[20]=l("h2",null,"Neues Event erstellen",-1)),l("form",{onSubmit:g(k,["prevent"])},[o(l("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.id=t),type:"text",placeholder:"id",required:""},null,512),[[u,a.value.id]]),o(l("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.name=t),type:"text",placeholder:"Name",required:""},null,512),[[u,a.value.name]]),o(l("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.availableTickets=t),type:"number",placeholder:"Verfügbare Tickets || Dieser Wert ist fest und kann nicht verändert werden"},null,512),[[u,a.value.availableTickets]]),o(l("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.bild=t),type:"text",placeholder:"/src/assets/images/"},null,512),[[u,a.value.bild]]),o(l("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.datum=t),type:"text",placeholder:"Datum"},null,512),[[u,a.value.datum]]),o(l("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.typ=t)},e[18]||(e[18]=[w('<option value="" disabled selected hidden data-v-e2c9628b>Typ der Veranstaltung wählen</option><option value="Konzert" data-v-e2c9628b>Konzert</option><option value="Theater" data-v-e2c9628b>Theater</option><option value="Familie" data-v-e2c9628b>Familie</option><option value="Club" data-v-e2c9628b>Club</option><option value="Fasching" data-v-e2c9628b>Fasching</option><option value="Sport" data-v-e2c9628b>Sport</option>',7)]),512),[[V,a.value.typ]]),o(l("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>a.value.preis=t),type:"text",placeholder:"Preis"},null,512),[[u,a.value.preis]]),o(l("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>a.value.bewertung=t),type:"number",min:"1",max:"5",placeholder:"Bewertung"},null,512),[[u,a.value.bewertung]]),o(l("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>a.value.ort=t),type:"text",placeholder:"Ort"},null,512),[[u,a.value.ort]]),e[19]||(e[19]=l("button",{type:"submit"},"Erstellen",-1))],32)]),n.value?(v(),p("section",D,[e[23]||(e[23]=l("h2",null,"Event bearbeiten",-1)),l("form",{onSubmit:g(x,["prevent"])},[o(l("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>n.value.id=t),type:"text",placeholder:"id",required:""},null,512),[[u,n.value.id]]),o(l("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>n.value.name=t),type:"text",placeholder:"Name",required:""},null,512),[[u,n.value.name]]),o(l("input",{"onUpdate:modelValue":e[11]||(e[11]=t=>n.value.bild=t),type:"text",placeholder:"Bild-URL"},null,512),[[u,n.value.bild]]),o(l("input",{"onUpdate:modelValue":e[12]||(e[12]=t=>n.value.datum=t),type:"text",placeholder:"Datum"},null,512),[[u,n.value.datum]]),o(l("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>n.value.typ=t)},e[21]||(e[21]=[w('<option value="" disabled selected hidden data-v-e2c9628b>Typ der Veranstaltung wählen</option><option value="Konzert" data-v-e2c9628b>Konzert</option><option value="Theater" data-v-e2c9628b>Theater</option><option value="Familie" data-v-e2c9628b>Familie</option><option value="Club" data-v-e2c9628b>Club</option><option value="Fasching" data-v-e2c9628b>Fasching</option><option value="Sport" data-v-e2c9628b>Sport</option>',7)]),512),[[V,n.value.typ]]),o(l("input",{"onUpdate:modelValue":e[14]||(e[14]=t=>n.value.preis=t),type:"text",placeholder:"Preis"},null,512),[[u,n.value.preis]]),o(l("input",{"onUpdate:modelValue":e[15]||(e[15]=t=>n.value.bewertung=t),type:"number",min:"1",max:"5",placeholder:"Bewertung"},null,512),[[u,n.value.bewertung]]),o(l("input",{"onUpdate:modelValue":e[16]||(e[16]=t=>n.value.ort=t),type:"text",placeholder:"Ort"},null,512),[[u,n.value.ort]]),e[22]||(e[22]=l("button",{type:"submit"},"Speichern",-1)),l("button",{type:"button",onClick:e[17]||(e[17]=t=>n.value=null)},"Abbrechen")],32)])):C("",!0),l("section",null,[e[24]||(e[24]=l("h2",null,"Alle Events",-1)),l("ul",null,[(v(!0),p(U,null,h(b.value,t=>(v(),p("li",{key:t.id},[l("h3",null,i(t.name),1),l("p",null,"id: "+i(t.id),1),l("p",null,"Datum: "+i(t.datum),1),l("p",null,"Verfügbare Tickets: "+i(t.availableTickets),1),l("p",null,"Ort: "+i(t.ort),1),l("p",null,"Typ: "+i(t.typ),1),l("p",null,"Preis: "+i(t.preis)+"€",1),l("p",null,"Bewertung: "+i(t.bewertung)+" Sterne",1),l("button",{onClick:f=>n.value={...t}},"Bearbeiten",8,N),l("button",{onClick:f=>E(t.id)},"Löschen",8,L)]))),128))])])]),y(c)],64))}},M=T($,[["__scopeId","data-v-e2c9628b"]]);export{M as default};
