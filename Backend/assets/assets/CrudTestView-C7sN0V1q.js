import{_ as C,r as m,o as S,c as d,a as y,b as l,k as g,w as o,v as u,d as V,e as w,l as k,F as E,f as c,g as v,h as p,H as B,t as i,j as D}from"./index-BdkSdCNj.js";const N={class:"crud-test-view"},h={key:0},L={key:1},$=["onClick"],q=["onClick"],z={__name:"CrudTestView",setup(K){const U=r=>{a.value={...r},window.scrollTo(0,0)},b=m([]),n=m({id:"",name:"",bild:"",datum:"",typ:"",preis:"",bewertung:1,ort:""}),a=m(null),s=async()=>{try{const r=await v.get("/event");b.value=r.data}catch(r){console.error("Fehler beim Laden der Events:",r)}},x=async()=>{try{await v.post("/event",n.value),alert("Event erfolgreich erstellt"),s(),n.value={id:"",name:"",availableTickets:"",bild:"",datum:"",typ:"",preis:"",bewertung:1,ort:""}}catch(r){console.error("Fehler beim Erstellen des Events:",r)}},T=async()=>{if(a.value)try{await v.put(`/event/${String(a.value.id)}`,a.value),alert("Event erfolgreich aktualisiert"),s(),a.value=null}catch(r){console.error("Fehler beim Aktualisieren des Events:",r)}},f=async r=>{try{await v.delete(`/event/${r}`),alert("Event erfolgreich gelöscht"),s()}catch(e){console.error("Fehler beim Löschen des Events:",e)}};return S(s),(r,e)=>(p(),d(E,null,[y(B,{title:"CRUD"}),e[25]||(e[25]=l("h1",null,"CRUD Test View",-1)),l("div",N,[a.value?k("",!0):(p(),d("section",h,[e[20]||(e[20]=l("h2",null,"Neues Event erstellen",-1)),l("form",{onSubmit:g(x,["prevent"])},[o(l("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>n.value.id=t),type:"text",placeholder:"id",required:""},null,512),[[u,n.value.id]]),o(l("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>n.value.name=t),type:"text",placeholder:"Name",required:""},null,512),[[u,n.value.name]]),o(l("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>n.value.availableTickets=t),type:"number",placeholder:"Verfügbare Tickets || Dieser Wert ist fest und kann nicht verändert werden"},null,512),[[u,n.value.availableTickets]]),o(l("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>n.value.bild=t),type:"text",placeholder:"/src/assets/images/"},null,512),[[u,n.value.bild]]),o(l("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>n.value.datum=t),type:"text",placeholder:"Datum"},null,512),[[u,n.value.datum]]),o(l("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>n.value.typ=t)},e[18]||(e[18]=[w('<option value="" disabled selected hidden data-v-32a66c35>Typ der Veranstaltung wählen</option><option value="Konzert" data-v-32a66c35>Konzert</option><option value="Theater" data-v-32a66c35>Theater</option><option value="Familie" data-v-32a66c35>Familie</option><option value="Club" data-v-32a66c35>Club</option><option value="Fasching" data-v-32a66c35>Fasching</option><option value="Sport" data-v-32a66c35>Sport</option>',7)]),512),[[V,n.value.typ]]),o(l("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>n.value.preis=t),type:"text",placeholder:"Preis"},null,512),[[u,n.value.preis]]),o(l("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>n.value.bewertung=t),type:"number",min:"1",max:"5",placeholder:"Bewertung"},null,512),[[u,n.value.bewertung]]),o(l("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>n.value.ort=t),type:"text",placeholder:"Ort"},null,512),[[u,n.value.ort]]),e[19]||(e[19]=l("button",{type:"submit"},"Erstellen",-1))],32)])),a.value?(p(),d("section",L,[e[23]||(e[23]=l("h2",null,"Event bearbeiten",-1)),l("form",{onSubmit:g(T,["prevent"])},[o(l("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>a.value.id=t),type:"text",placeholder:"id",required:""},null,512),[[u,a.value.id]]),o(l("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>a.value.name=t),type:"text",placeholder:"Name",required:""},null,512),[[u,a.value.name]]),o(l("input",{"onUpdate:modelValue":e[11]||(e[11]=t=>a.value.bild=t),type:"text",placeholder:"Bild-URL"},null,512),[[u,a.value.bild]]),o(l("input",{"onUpdate:modelValue":e[12]||(e[12]=t=>a.value.datum=t),type:"text",placeholder:"Datum"},null,512),[[u,a.value.datum]]),o(l("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>a.value.typ=t)},e[21]||(e[21]=[w('<option value="" disabled selected hidden data-v-32a66c35>Typ der Veranstaltung wählen</option><option value="Konzert" data-v-32a66c35>Konzert</option><option value="Theater" data-v-32a66c35>Theater</option><option value="Familie" data-v-32a66c35>Familie</option><option value="Club" data-v-32a66c35>Club</option><option value="Fasching" data-v-32a66c35>Fasching</option><option value="Sport" data-v-32a66c35>Sport</option>',7)]),512),[[V,a.value.typ]]),o(l("input",{"onUpdate:modelValue":e[14]||(e[14]=t=>a.value.preis=t),type:"text",placeholder:"Preis"},null,512),[[u,a.value.preis]]),o(l("input",{"onUpdate:modelValue":e[15]||(e[15]=t=>a.value.bewertung=t),type:"number",min:"1",max:"5",placeholder:"Bewertung"},null,512),[[u,a.value.bewertung]]),o(l("input",{"onUpdate:modelValue":e[16]||(e[16]=t=>a.value.ort=t),type:"text",placeholder:"Ort"},null,512),[[u,a.value.ort]]),e[22]||(e[22]=l("button",{type:"submit"},"Speichern",-1)),l("button",{type:"button",onClick:e[17]||(e[17]=t=>a.value=null)},"Abbrechen")],32)])):k("",!0),l("section",null,[e[24]||(e[24]=l("h2",null,"Alle Events",-1)),l("ul",null,[(p(!0),d(E,null,c(b.value,t=>(p(),d("li",{key:t.id},[l("h3",null,i(t.name),1),l("p",null,"id: "+i(t.id),1),l("p",null,"Datum: "+i(t.datum),1),l("p",null,"Verfügbare Tickets: "+i(t.availableTickets),1),l("p",null,"Ort: "+i(t.ort),1),l("p",null,"Typ: "+i(t.typ),1),l("p",null,"Preis: "+i(t.preis)+"€",1),l("p",null,"Bewertung: "+i(t.bewertung)+" Sterne",1),l("button",{onClick:F=>U(t)},"Bearbeiten",8,$),l("button",{onClick:F=>f(t.id)},"Löschen",8,q)]))),128))])])]),y(D)],64))}},A=C(z,[["__scopeId","data-v-32a66c35"]]);export{A as default};
