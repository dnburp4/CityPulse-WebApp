import{_ as A,h as d,c as m,b as t,t as b,r as v,o as N,a as f,k as y,w as a,v as u,l as V,F as h,f as C,g as p,i as E,j as F}from"./index-DaxiPf5r.js";import{H as q}from"./Header-BHo1NZR5.js";const B={class:"news-card"},U=["src"],D={class:"news-card-text"},S={__name:"NewsCardAdmin",props:{newsTitle:{type:String,required:!0},newsContent:{type:String,required:!0},bild:{type:String},functionDelete:{type:Function,required:!0},functionEdit:{type:Function,required:!0}},setup(s){return(w,o)=>(d(),m("div",B,[t("img",{src:s.bild,alt:"news image"},null,8,U),t("div",D,[t("h2",null,b(s.newsTitle),1),t("p",null,b(s.newsContent),1)]),t("button",{onClick:o[0]||(o[0]=(...i)=>s.functionDelete&&s.functionDelete(...i))},"Löschen"),t("button",{onClick:o[1]||(o[1]=(...i)=>s.functionEdit&&s.functionEdit(...i))},"Bearbeiten")]))}},$=A(S,[["__scopeId","data-v-8411f883"]]),L={class:"alle-news-view"},T={class:"forms-container"},I={key:0},M={class:"news-container"},H={class:"news-list"},R={__name:"AdminNewsView",setup(s){const w=r=>{l.value={...r}},o=v([]),i=v({name:"",description:"",bild:""}),l=v(null),c=async()=>{try{const r=await p.get("http://localhost:1337/news");o.value=r.data}catch(r){console.error("Fehler beim Laden der Nachrichten:",r)}},k=async()=>{try{await p.post("http://localhost:1337/news",i.value),alert("Artikel erfolgreich erstellt"),c(),i.value={name:"",description:"",bild:""}}catch(r){console.error("Fehler beim Erstellen des Artikels:",r)}},g=async r=>{try{await p.delete(`http://localhost:1337/news/${r}`),alert("Artikel erfolgreich gelöscht"),c()}catch(e){console.error("Fehler beim Löschen des Artikels:",e)}},x=async()=>{if(l.value)try{await p.put(`http://localhost:1337/news/${l.value.id}`,l.value),alert("Artikel erfolgreich aktualisiert"),c(),l.value=null}catch(r){console.error("Fehler beim Aktualisieren des Artikels:",r)}};return N(c),(r,e)=>(d(),m(h,null,[f(q,{title:"Welcome Administrator!"}),t("div",L,[t("div",T,[e[8]||(e[8]=t("h2",null,"Neuen Artikel erstellen",-1)),t("form",{onSubmit:y(k,["prevent"])},[a(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>i.value.name=n),type:"text",placeholder:"Name",required:""},null,512),[[u,i.value.name]]),a(t("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>i.value.description=n),type:"text",placeholder:"Beschreibung",required:""},null,512),[[u,i.value.description]]),a(t("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>i.value.bild=n),type:"text",placeholder:"Bild URL"},null,512),[[u,i.value.bild]]),e[7]||(e[7]=t("button",{type:"submit"},"Erstellen",-1))],32)]),l.value?(d(),m("section",I,[e[10]||(e[10]=t("h2",null,"Artikel bearbeiten",-1)),t("form",{onSubmit:y(x,["prevent"])},[a(t("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>l.value.name=n),type:"text",placeholder:"Titel des Artikels",required:""},null,512),[[u,l.value.name]]),a(t("input",{"onUpdate:modelValue":e[4]||(e[4]=n=>l.value.description=n),type:"text",placeholder:"Inhalt",required:""},null,512),[[u,l.value.description]]),a(t("input",{"onUpdate:modelValue":e[5]||(e[5]=n=>l.value.bild=n),type:"text",placeholder:"Bild-URL"},null,512),[[u,l.value.bild]]),e[9]||(e[9]=t("button",{type:"submit"},"Speichern",-1)),t("button",{type:"button",onClick:e[6]||(e[6]=n=>l.value=null)},"Abbrechen")],32)])):V("",!0),t("main",M,[t("div",H,[(d(!0),m(h,null,C(o.value,n=>(d(),E($,{key:n.id,newsTitle:n.name,newsContent:n.description,bild:n.bild,functionDelete:()=>g(n.id),functionEdit:()=>w(n)},null,8,["newsTitle","newsContent","bild","functionDelete","functionEdit"]))),128))])])]),f(F)],64))}},z=A(R,[["__scopeId","data-v-8963ec43"]]);export{z as default};
