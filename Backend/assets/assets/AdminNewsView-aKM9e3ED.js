import{_ as N,h as u,c,b as t,t as v,r as w,o as C,a as f,k as y,w as a,v as d,l as k,F as h,f as V,g as p,H as B,i as E,j as F}from"./index-4-hfgK7h.js";const q={class:"news-card"},U=["src"],$={class:"news-card-text"},D={class:"button-container-news"},S={__name:"NewsCardAdmin",props:{newsTitle:{type:String,required:!0},newsContent:{type:String,required:!0},bild:{type:String},functionDelete:{type:Function,required:!0},functionEdit:{type:Function,required:!0}},setup(r){return(m,o)=>(u(),c("div",q,[t("img",{src:r.bild,alt:"news image"},null,8,U),t("div",$,[t("h2",null,v(r.newsTitle),1),t("p",null,v(r.newsContent),1)]),t("div",D,[t("button",{onClick:o[0]||(o[0]=(...i)=>r.functionEdit&&r.functionEdit(...i)),class:"btn-white-bearbeiten-news"},"Bearbeiten"),t("button",{onClick:o[1]||(o[1]=(...i)=>r.functionDelete&&r.functionDelete(...i)),class:"btn-delete-news"},"Löschen")])]))}},T=N(S,[["__scopeId","data-v-d063c4b7"]]),L={class:"alle-news-view"},M={key:0,class:"forms-container"},H={key:1,class:"forms-container"},R={class:"news-container"},j={class:"news-list"},z={__name:"AdminNewsView",setup(r){const m=s=>{l.value={...s},window.scrollTo(0,0)},o=w([]),i=w({name:"",description:"",bild:""}),l=w(null),b=async()=>{try{const s=await p.get("/news");o.value=s.data}catch(s){console.error("Fehler beim Laden der Nachrichten:",s)}},A=async()=>{try{await p.post("/news",i.value),alert("Artikel erfolgreich erstellt"),b(),i.value={name:"",description:"",bild:""}}catch(s){console.error("Fehler beim Erstellen des Artikels:",s)}},g=async s=>{try{await p.delete(`/news/${s}`),alert("Artikel erfolgreich gelöscht"),b()}catch(e){console.error("Fehler beim Löschen des Artikels:",e)}},x=async()=>{if(l.value)try{await p.put(`/news/${l.value.id}`,l.value),alert("Artikel erfolgreich aktualisiert"),b(),l.value=null}catch(s){console.error("Fehler beim Aktualisieren des Artikels:",s)}};return C(b),(s,e)=>(u(),c(h,null,[f(B,{title:"News bearbeiten"}),t("div",L,[l.value?k("",!0):(u(),c("div",M,[e[8]||(e[8]=t("h2",null,"Neuen Artikel schreiben",-1)),t("form",{onSubmit:y(A,["prevent"])},[a(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>i.value.name=n),type:"text",placeholder:"Name",required:""},null,512),[[d,i.value.name]]),a(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=n=>i.value.description=n),placeholder:"Beschreibung",id:"big-content",rows:"5",required:""},null,512),[[d,i.value.description]]),a(t("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>i.value.bild=n),type:"text",placeholder:"Bild URL"},null,512),[[d,i.value.bild]]),e[7]||(e[7]=t("button",{class:"btn-post-art",type:"submit"},"Erstellen",-1))],32)])),l.value?(u(),c("div",H,[e[10]||(e[10]=t("h2",null,"Artikel bearbeiten",-1)),t("form",{onSubmit:y(x,["prevent"])},[a(t("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>l.value.name=n),type:"text",placeholder:"Titel des Artikels",required:""},null,512),[[d,l.value.name]]),a(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=n=>l.value.description=n),placeholder:"Beschreibung",id:"big-content",rows:"5",required:""},null,512),[[d,l.value.description]]),a(t("input",{"onUpdate:modelValue":e[5]||(e[5]=n=>l.value.bild=n),type:"text",placeholder:"Bild-URL"},null,512),[[d,l.value.bild]]),e[9]||(e[9]=t("button",{class:"btn-white",type:"submit"},"Speichern",-1)),t("button",{class:"btn-red",type:"button",onClick:e[6]||(e[6]=n=>l.value=null)},"Abbrechen")],32)])):k("",!0),t("main",R,[t("div",j,[(u(!0),c(h,null,V(o.value.slice().reverse(),n=>(u(),E(T,{key:n.id,newsTitle:n.name,newsContent:n.description,bild:n.bild,functionDelete:()=>g(n.id),functionEdit:()=>m(n)},null,8,["newsTitle","newsContent","bild","functionDelete","functionEdit"]))),128))])])]),f(F)],64))}};export{z as default};
