import{u as h,r as p,h as b,c as w,b as s,a as U,m as N,q as S,k as c,s as i,t as M,l as k,w as m,v,x as g,j as x,F as D,n as P}from"./index-BdkSdCNj.js";const A={class:"main-container"},C={class:"log-in-container"},E={key:0,class:"error-message"},L={class:"input-container"},R={class:"input-container"},B={class:"input-container"},F={class:"input-container"},I={class:"input-container"},Z={__name:"SignUpView",setup(T){const f=h();let o=p(""),t=p(""),u=p(""),r=p(""),d=p(""),n=p("");async function y(){if(!o.value||!t.value||!u.value||!r.value||!d.value){n.value="Alle Felder müssen ausgefüllt werden.";return}if(!/^[0-9]+$/.test(r.value)){n.value="Die Telefonnummer darf nur Zahlen enthalten.";return}if(t.value.length<4||t.value.length>30){n.value="Das Passwort muss zwischen 4 und 30 Zeichen lang sein.";return}try{await f.signUp(o.value,t.value,u.value,r.value,d.value),f.user&&console.log("Logged in")}catch(a){console.error("Registration failed:",a),a.response&&a.response.status===409||a.response&&a.response.data&&a.response.data.message.includes("E-Mail bereits registriert")?n.value="Diese E-Mail-Adresse ist bereits registriert.":n.value="Registrierung fehlgeschlagen. Bitte versuchen Sie es erneut."}}return(a,e)=>{const V=P("RouterLink");return b(),w(D,null,[s("div",A,[U(V,{to:"/"},{default:N(()=>e[5]||(e[5]=[s("img",{src:S,alt:"CityPulseLogo",id:"CityPulseLogo"},null,-1)])),_:1}),s("div",C,[s("form",{onSubmit:c(y,["prevent"])},[e[11]||(e[11]=s("h1",null,"SignUp",-1)),i(n)?(b(),w("div",E,M(i(n)),1)):k("",!0),s("div",L,[e[6]||(e[6]=s("label",null,"Name: ",-1)),m(s("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>g(u)?u.value=l:u=l),placeholder:"Ihr Name"},null,512),[[v,i(u)]])]),s("div",R,[e[7]||(e[7]=s("label",null,"E-Mail: ",-1)),m(s("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=l=>g(o)?o.value=l:o=l),placeholder:"example@mail.com"},null,512),[[v,i(o)]])]),s("div",B,[e[8]||(e[8]=s("label",null,"Password: ",-1)),m(s("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=l=>g(t)?t.value=l:t=l),placeholder:"Ihr Passwort"},null,512),[[v,i(t)]])]),s("div",F,[e[9]||(e[9]=s("label",null,"Telefon-Nr: ",-1)),m(s("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>g(r)?r.value=l:r=l),placeholder:"015754241069"},null,512),[[v,i(r)]])]),s("div",I,[e[10]||(e[10]=s("label",null,"Persönliche Adresse: ",-1)),m(s("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>g(d)?d.value=l:d=l),placeholder:"Ihre Adresse"},null,512),[[v,i(d)]])]),e[12]||(e[12]=s("button",{type:"submit",class:"form-button"},"SignUp",-1))],32)])]),U(x)],64)}}};export{Z as default};
